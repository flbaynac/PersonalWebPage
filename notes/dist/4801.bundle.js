"use strict";(self.webpackChunktagspaces=self.webpackChunktagspaces||[]).push([[4801],{86002:(e,t,a)=>{var s=a(64836);t.Z=void 0;var n=s(a(64938)),o=a(85893),i=(0,n.default)((0,o.jsx)("path",{d:"M21 11h-1.5v-.5h-2v3h2V13H21v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zM8 10v5H6.5v-1.5h-2V15H3v-5c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zm-1.5.5h-2V12h2v-1.5zm7 1.5c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1h-4V9h4c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1zM11 10.5v.75h2v-.75h-2zm2 2.25h-2v.75h2v-.75z"}),"Abc");t.Z=i},49829:(e,t,a)=>{var s=a(64836);t.Z=void 0;var n=s(a(64938)),o=a(85893),i=(0,n.default)((0,o.jsx)("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutline");t.Z=i},22961:(e,t,a)=>{var s=a(64836);t.Z=void 0;var n=s(a(64938)),o=a(85893),i=(0,n.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=i},72450:(e,t,a)=>{var s=a(64836);t.Z=void 0;var n=s(a(64938)),o=a(85893),i=(0,n.default)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.Z=i},64050:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ve});var s=a(85893),n=a(67294),o=a(90948),i=a(72642),l=a(88979),r=a(77750),c=a(37645),d=a(89149),u=a(76446),h=a(50542),x=a(23709),p=a(2658),g=a(58094),m=a(64666),j=a(42440),Z=a(7952),f=a(48885),y=a(59334),v=a(94659),C=a(79332),T=a(15723),b=a(33382),P=a(27036),I=a(49829),S=a(86002),w=a(80270),L=a(6867),A=a(24011),k=a(5934),D=a(3530),N=a(1820),E=a(85092),W=a(27666),z=a(56036),U=a(33797),F=a(47425),R=a(94315),K=a(44318),O=a(15725),M=a(22961),B=a(72450),_=a(91072);const Y=["us-east-2","us-east-1","us-west-1","us-west-2","af-south-1","ap-south-1","ap-northeast-3","ap-northeast-2","ap-southeast-1","ap-southeast-2","ap-northeast-1","ca-central-1","eu-central-1","eu-west-1","eu-west-2","eu-south-1","eu-west-3","eu-north-1","me-south-1","sa-east-1"],H=function(e){const{setShowSecretAccessKey:t,cloudErrorTextName:a,cloudErrorTextPath:n,cloudErrorAccessKey:o,cloudErrorSecretAccessKey:i,cloudErrorBucketName:l,cloudErrorRegion:r,showSecretAccessKey:c,storeName:d,storePath:h,accessKeyId:x,secretAccessKey:p,sessionToken:g,bucketName:m,region:j,endpointURL:Z,setStoreName:f,setStorePath:y,setAccessKeyId:C,setSecretAccessKey:T,setSessionToken:b,setBucketName:P,setEndpointURL:I,setRegion:S}=e,{t:A}=(0,_.$G)();function k(e,t,a){("input"===a||"select-option"===a)&&S(t),"clear"===a&&S("")}return(0,s.jsxs)(O.ZP,{container:!0,children:[(0,s.jsx)(O.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{fullWidth:!0,error:a,children:(0,s.jsx)(v.Z,{required:!0,autoFocus:!0,margin:"dense",name:"storeName",inputProps:{autoCorrect:"off"},fullWidth:!0,"data-tid":"locationName",onChange:e=>f(e.target.value),value:d,label:A("core:createLocationName")})})}),(0,s.jsx)(O.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{fullWidth:!0,error:n,children:(0,s.jsx)(v.Z,{margin:"dense",name:"storePath",fullWidth:!0,inputProps:{autoCorrect:"off",autoCapitalize:"none"},"data-tid":"locationPath",onChange:e=>y(e.target.value),value:h,label:A("core:createLocationPath")})})}),(0,s.jsx)(O.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{fullWidth:!0,error:o,children:(0,s.jsx)(v.Z,{margin:"dense",required:!0,name:"accessKeyId",fullWidth:!0,"data-tid":"accessKeyId",inputProps:{autoCorrect:"off",autoCapitalize:"none"},onChange:e=>C(e.target.value),value:x,label:A("core:accessKeyId")})})}),(0,s.jsx)(O.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{fullWidth:!0,error:i,children:(0,s.jsx)(v.Z,{margin:"dense",required:!0,name:"secretAccessKey",type:c?"text":"password",fullWidth:!0,"data-tid":"secretAccessKey",inputProps:{autoCorrect:"off",autoCapitalize:"none"},onChange:e=>T(e.target.value),value:p,label:A("core:secretAccessKey"),InputProps:{endAdornment:(0,s.jsx)(w.Z,{position:"end",children:(0,s.jsx)(L.Z,{"aria-label":"toggle password visibility",onClick:()=>t(!c),size:"large",children:c?(0,s.jsx)(M.Z,{}):(0,s.jsx)(B.Z,{})})})}})})}),(0,s.jsx)(O.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{fullWidth:!0,children:(0,s.jsx)(v.Z,{margin:"dense",name:"sessionToken",fullWidth:!0,"data-tid":"sessionTokenTID",inputProps:{autoCorrect:"off",autoCapitalize:"none"},onChange:e=>b(e.target.value),value:g,label:A("core:sessionToken")})})}),(0,s.jsx)(O.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{fullWidth:!0,error:l,children:(0,s.jsx)(v.Z,{margin:"dense",name:"bucketName",fullWidth:!0,"data-tid":"bucketName",inputProps:{autoCorrect:"off",autoCapitalize:"none"},onChange:e=>P(e.target.value),value:m,label:A("core:bucketName")})})}),(0,s.jsx)(O.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{fullWidth:!0,children:(0,s.jsx)(v.Z,{margin:"dense",name:"endpointURL",fullWidth:!0,"data-tid":"endpointURL",placeholder:A("s3serviceURL"),onChange:e=>I(e.target.value),value:Z,label:A("core:endpointURL")})})}),(0,s.jsx)(O.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{fullWidth:!0,error:r,children:(0,s.jsx)(K.Z,{options:Y,value:j,freeSolo:!0,onChange:k,onInputChange:k,placeholder:A("core:regionSearch"),renderInput:e=>(0,s.jsx)(v.Z,{...e,label:A("core:regionSearch"),margin:"normal"})})})})]})};var V=a(25512),q=a(3460),G=a(57866),$=a(36808),J=a(25108);const Q=function(e){const{errorTextPath:t,errorTextName:a,setName:n,setPath:o,path:i,name:l}=e,{t:r}=(0,_.$G)();return(0,s.jsxs)(O.ZP,{container:!0,children:[(0,s.jsx)(O.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{fullWidth:!0,error:a,children:(0,s.jsx)(v.Z,{required:!0,autoFocus:!0,margin:"dense",name:"name",inputProps:{autoCorrect:"off"},onChange:e=>n(e.target.value),value:l,"data-tid":"locationName",fullWidth:!0,label:r("core:createLocationName")})})}),(0,s.jsx)(O.ZP,{item:!0,xs:12,children:(0,s.jsxs)(u.Z,{fullWidth:!0,error:t,children:[(0,s.jsx)(v.Z,{required:!0,margin:"dense",name:"path",fullWidth:!0,inputProps:{autoCorrect:"off",autoCapitalize:"none"},"data-tid":"locationPath",onChange:e=>o(e.target.value),value:i,InputProps:{endAdornment:(0,s.jsx)(w.Z,{position:"end",style:{height:32},children:(0,s.jsx)(L.Z,{onClick:()=>{$.Z.selectDirectoryDialog().then((e=>{const t=decodeURI(e[0]);if(o(t),l.length<1&&t.length>0){const e=(0,G.extractDirectoryName)(t,$.Z.getDirSeparator());n(e.charAt(0).toUpperCase()+e.slice(1))}return!0})).catch((e=>{J.log("selectDirectoryDialog failed with: "+e)}))},size:"large",children:(0,s.jsx)(V.Z,{})})})},label:r("core:createLocationPath")}),D.Z.isCordovaAndroid&&(0,s.jsx)(q.Z,{children:"Examples: sdcard/DCIM, sdcard/Downloads or /storage/899D-1617 for ext. sd-card"})]})})]})};var X=a(65186),ee=a(19885),te=a(6739),ae=a(22185),se=a(61284),ne=a(44187),oe=a(74008),ie=a(66744),le=a(20736),re=a(82066);const ce=(0,re.Z)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),de=(0,re.Z)((0,s.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),ue=function(e){const{errorTextName:t,webdavErrorUrl:a,setName:n,setUserName:o,setPassword:i,setEndpointURL:l,userName:r,password:c,endpointURL:d,name:h,showPassword:x,setShowPassword:p,authType:g,setAuthType:m,secretAccessKey:j,setSecretAccessKey:Z}=e,{t:f}=(0,_.$G)(),y={None:"none",Basic:"password",Digest:"digest",Token:"token"};return(0,s.jsxs)(O.ZP,{container:!0,direction:"column",spacing:1,children:[(0,s.jsx)(O.ZP,{item:!0,children:(0,s.jsx)(u.Z,{fullWidth:!0,error:t,children:(0,s.jsx)(v.Z,{required:!0,margin:"dense",name:"name",inputProps:{autoCorrect:"off"},onChange:e=>n(e.target.value),value:h,label:f("core:createLocationName"),"data-tid":"locationName",fullWidth:!0})})}),(0,s.jsx)(O.ZP,{item:!0,children:(0,s.jsxs)(u.Z,{fullWidth:!0,error:t,children:[(0,s.jsx)(W.Z,{id:"AuthID",children:f("core:WebdavAuth")}),(0,s.jsx)(z.Z,{labelId:"AuthID",id:"AuthTypeID",value:g,label:f("core:WebdavAuth"),onChange:e=>m(e.target.value),children:Object.keys(y).map((e=>(0,s.jsx)(U.Z,{value:y[e],children:e},e)))})]})}),(g===y.Basic||g===y.Digest)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.ZP,{item:!0,children:(0,s.jsx)(u.Z,{fullWidth:!0,children:(0,s.jsx)(v.Z,{margin:"dense",name:"userNameId",fullWidth:!0,"data-tid":"userNameIdTID",inputProps:{autoCorrect:"off",autoCapitalize:"none"},onChange:e=>o(e.target.value),label:f("core:userName"),value:r})})}),(0,s.jsx)(O.ZP,{item:!0,children:(0,s.jsx)(u.Z,{fullWidth:!0,children:(0,s.jsx)(v.Z,{margin:"dense",name:"password",type:x?"text":"password",fullWidth:!0,"data-tid":"passwordTID",inputProps:{autoCorrect:"off",autoCapitalize:"none"},onChange:e=>i(e.target.value),value:c,label:f("core:password"),InputProps:{endAdornment:(0,s.jsx)(w.Z,{position:"end",children:(0,s.jsx)(L.Z,{"aria-label":"toggle password visibility",onClick:()=>p(!x),size:"large",children:x?(0,s.jsx)(ce,{}):(0,s.jsx)(de,{})})})}})})})]}),g===y.Token&&(0,s.jsx)(O.ZP,{item:!0,children:(0,s.jsx)(u.Z,{fullWidth:!0,children:(0,s.jsx)(v.Z,{margin:"dense",name:"webDavToken",type:x?"text":"password",fullWidth:!0,"data-tid":"webDavToken",inputProps:{autoCorrect:"off",autoCapitalize:"none"},onChange:e=>Z(e.target.value),value:j,label:f("core:webDavToken"),InputProps:{endAdornment:(0,s.jsx)(w.Z,{position:"end",children:(0,s.jsx)(L.Z,{"aria-label":"toggle password visibility",onClick:()=>p(!x),size:"large",children:x?(0,s.jsx)(ce,{}):(0,s.jsx)(de,{})})})}})})}),(0,s.jsx)(O.ZP,{item:!0,children:(0,s.jsx)(u.Z,{fullWidth:!0,error:a,children:(0,s.jsx)(v.Z,{margin:"dense",name:"endpointURL",fullWidth:!0,"data-tid":"endpointURL",placeholder:f("webdavServiceURL"),onChange:e=>l(e.target.value),value:d,label:f("core:endpointURL")})})})]})};var he=a(2734),xe=a(98396),pe=a(65725),ge=a(42273),me=a(51017),je=a(38814),Ze=a(25108);const fe="CreateEditLocationDialog-formControl",ye=(0,o.ZP)(m.Z)((({theme:e})=>({[`& .${fe}`]:{marginLeft:e.spacing(0),width:"100%"}}))),ve=function(e){const{t}=(0,_.$G)(),a=(0,A.I0)(),o=(0,A.v9)(oe.aH),m=(0,A.v9)(se.JC),K=(0,A.v9)(oe.X6),O=!(!R.T||!R.T.UI)&&R.T.UI.IgnorePatternDialog,{location:M}=e,[B,Y]=(0,n.useState)(!1),[V,q]=(0,n.useState)(!1),[G,J]=(0,n.useState)(!1),[re,ce]=(0,n.useState)(!1),[de,ve]=(0,n.useState)(M&&M.name?M.name:""),[Ce,Te]=(0,n.useState)(M&&M.username?M.username:""),[be,Pe]=(0,n.useState)(M&&M.password?M.password:"");let Ie=D.Z.maxIndexAge;if(M&&M.maxIndexAge&&M.maxIndexAge>0){const e=M.maxIndexAge+"";Ie=parseInt(e,10)}const[Se,we]=(0,n.useState)(Ie);let Le=D.Z.maxLoops;if(M&&M.maxLoops&&M.maxLoops>0){const e=M.maxLoops+"";Le=parseInt(e,10)}const[Ae,ke]=(0,n.useState)(Le),[De,Ne]=(0,n.useState)(M&&M.name?M.name:""),[Ee,We]=(0,n.useState)(M&&(M.path||M.paths)?M.path||M.paths[0]:""),[ze,Ue]=(0,n.useState)(M&&(M.path||M.paths)?M.path||M.paths[0]:""),[Fe,Re]=(0,n.useState)(M?M.endpointURL:""),[Ke,Oe]=(0,n.useState)("password"),[Me,Be]=(0,n.useState)(!!M&&M.isDefault),[_e,Ye]=(0,n.useState)(!!M&&M.isReadOnly),[He,Ve]=(0,n.useState)(!!M&&M.watchForChanges),[qe,Ge]=(0,n.useState)(!!M&&M.disableIndexing),[$e,Je]=(0,n.useState)(!!M&&M.fullTextIndex),[Qe,Xe]=(0,n.useState)(M?M.accessKeyId:""),[et,tt]=(0,n.useState)(M?M.secretAccessKey:""),[at,st]=(0,n.useState)(M?M.sessionToken:void 0),[nt,ot]=(0,n.useState)(M?M.bucketName:""),[it,lt]=(0,n.useState)(M&&void 0!==M.persistTagsInSidecarFile?M.persistTagsInSidecarFile:null),[rt,ct]=(0,n.useState)(M?M.region:"");let dt;dt=M?M.type:D.Z.isWeb?k.locationType.TYPE_CLOUD:k.locationType.TYPE_LOCAL;const[ut,ht]=(0,n.useState)(dt),[xt,pt]=(0,n.useState)(M?M.uuid:(0,ge.getUuid)()),[gt,mt]=(0,n.useState)(!1),[jt,Zt]=(0,n.useState)(!1),[ft,yt]=(0,n.useState)(!1),[vt,Ct]=(0,n.useState)(!1),[Tt,bt]=(0,n.useState)(M?M.ignorePatternPaths:void 0),[Pt,It]=(0,n.useState)(!1),[St,wt]=(0,n.useState)(!1),Lt=(0,X.Z)();function At(e){(0,pe.lo)(e,D.Z.metaFolderFile).then((e=>(e&&e.id&&(m.some((t=>t.uuid===e.id))||pt(e.id)),!0))).catch((t=>{Ze.debug("no meta in location:"+e)}))}function kt(e){m.some((t=>t.uuid===e))?a(ne.Nw.showNotification("Location with this ID already exists",ne.j_.error)):pt(e)}(0,n.useEffect)((()=>{Lt||Dt()}),[De,Qe,et]),(0,n.useEffect)((()=>{Lt||Nt()}),[de,Ee]);const Dt=(e=!1)=>{if(De&&0!==De.length)e||mt(!1);else{if(e)return!0;mt(!0)}if(Qe&&0!==Qe.length)e||yt(!1);else{if(e)return!0;yt(!0)}if(et&&0!==et.length)e||Ct(!1);else{if(e)return!0;Ct(!0)}return!1},Nt=(e=!1)=>{if(de&&0!==de.length)e||ce(!1);else{if(e)return!0;ce(!0)}if(Ee&&0!==Ee.length)e||J(!1);else{if(e)return!0;J(!0)}return!1},Et=()=>ut===k.locationType.TYPE_LOCAL?re||G||Nt(!0):ut===k.locationType.TYPE_WEBDAV?re||((e=!1)=>{if(de&&0!==de.length)e||ce(!1);else{if(e)return!0;ce(!0)}if(Fe&&0!==Fe.length)e||Zt(!1);else{if(e)return!0;Zt(!0)}return!1})(!0):gt||ft||vt||Dt(!0),{open:Wt,onClose:zt}=e,Ut=()=>{if(!Et()){let t;ut===k.locationType.TYPE_LOCAL?t={uuid:e.location?e.location.uuid:xt,type:ut,name:de,path:Ee,paths:[Ee],isDefault:Me,isReadOnly:_e,disableIndexing:qe,fullTextIndex:$e,watchForChanges:He,maxIndexAge:Se,ignorePatternPaths:Tt}:ut===k.locationType.TYPE_WEBDAV?t={uuid:e.location?e.location.uuid:xt,type:ut,authType:Ke,name:de,username:Ce,password:be,secretAccessKey:et,endpointURL:Fe,isDefault:Me,isReadOnly:_e,disableIndexing:qe,fullTextIndex:$e,watchForChanges:He,maxIndexAge:Se,ignorePatternPaths:Tt}:ut===k.locationType.TYPE_CLOUD&&(t={uuid:e.location?e.location.uuid:xt,type:ut,name:De,path:ze,paths:[ze],endpointURL:Fe,accessKeyId:Qe,secretAccessKey:et,sessionToken:at,bucketName:nt,region:rt,isDefault:Me,isReadOnly:_e,disableIndexing:qe,fullTextIndex:$e,watchForChanges:!1,maxIndexAge:Se,maxLoops:Ae,ignorePatternPaths:Tt}),null!==it&&(t={...t,persistTagsInSidecarFile:it}),e.location?e.editLocation?(t.newuuid=xt,e.editLocation(t)):Ze.error("No addLocation or editLocation props exist"):a(se.Nw.addLocation(t)),zt()}};let Ft;Ft=ut===k.locationType.TYPE_CLOUD?(0,s.jsx)(H,{cloudErrorTextName:gt,cloudErrorTextPath:!1,cloudErrorAccessKey:ft,cloudErrorSecretAccessKey:vt,cloudErrorBucketName:!1,cloudErrorRegion:!1,showSecretAccessKey:B,storeName:De,storePath:ze,accessKeyId:Qe,secretAccessKey:et,sessionToken:at,setShowSecretAccessKey:Y,bucketName:nt,region:rt,endpointURL:Fe,setStoreName:Ne,setStorePath:e=>{Ue(e),At(e)},setAccessKeyId:Xe,setSecretAccessKey:tt,setSessionToken:st,setBucketName:ot,setEndpointURL:Re,setRegion:ct}):ut===k.locationType.TYPE_WEBDAV?(0,s.jsx)(ue,{errorTextName:re,setName:ve,setUserName:Te,setPassword:Pe,setEndpointURL:Re,endpointURL:Fe,name:de,userName:Ce,password:be,setShowPassword:q,showPassword:V,webdavErrorUrl:jt,authType:Ke,setAuthType:Oe,secretAccessKey:et,setSecretAccessKey:tt}):(0,s.jsx)(Q,{errorTextPath:G,errorTextName:re,setName:ve,setPath:e=>{We(e),At(e)},path:Ee,name:de});const Rt=e.location&&null!==e.location.persistTagsInSidecarFile?M.persistTagsInSidecarFile:o,Kt=void 0!==e.location,Ot=(0,he.Z)(),Mt=(0,xe.Z)(Ot.breakpoints.down("md"));return(0,s.jsxs)(ye,{open:Wt,onClose:zt,fullScreen:Mt,keepMounted:!0,scroll:"paper",onKeyDown:e=>{"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),Ut())},children:[(0,s.jsxs)(c.Z,{children:[e.location?t("core:editLocationTitle"):t("core:createLocationTitle"),(0,s.jsx)(ee.Z,{testId:"closeCreateEditLocationTID",onClose:zt})]}),(0,s.jsxs)(r.Z,{style:{overflow:"auto",minHeight:200,padding:8},children:[(0,s.jsx)(N.Z,{defaultExpanded:!0,children:(0,s.jsx)(E.Z,{style:{paddingTop:16},children:(0,s.jsxs)(x.Z,{children:[(0,s.jsxs)(u.Z,{disabled:Kt,fullWidth:!0,children:[(0,s.jsx)(W.Z,{id:"locationLabelID",children:t("core:locationType")}),(0,s.jsxs)(z.Z,{labelId:"locationLabelID",id:"locationTypeID",value:ut,label:t("core:locationType"),onChange:e=>ht(e.target.value),children:[!D.Z.isWeb&&(0,s.jsx)(U.Z,{value:k.locationType.TYPE_LOCAL,children:t("core:localLocation")},"TYPE_LOCAL"),(0,s.jsx)(U.Z,{value:k.locationType.TYPE_CLOUD,children:t("core:objectStorage")+" (AWS, MinIO, Wasabi,...)"},"TYPE_CLOUD"),R.T&&K&&(0,s.jsx)(U.Z,{value:k.locationType.TYPE_WEBDAV,children:t("core:webdavLocation")+" (experimental)"},"TYPE_WEBDAV")]})]}),Ft,(0,s.jsx)(h.Z,{className:fe,labelPlacement:"start",style:{justifyContent:"space-between"},control:(0,s.jsx)(d.Z,{"data-tid":"locationIsDefault",name:"isDefault",checked:Me,onChange:e=>Be(e.target.checked)}),label:t("core:startupLocation")}),(0,s.jsx)(h.Z,{className:fe,labelPlacement:"start",style:{justifyContent:"space-between"},control:(0,s.jsx)(d.Z,{disabled:!R.T,"data-tid":"changeFullTextIndex",name:"fullTextIndex",checked:$e,onChange:e=>{Je(e.target.checked),e.target.checked&&wt(!0)}}),label:(0,s.jsxs)(s.Fragment,{children:[t("core:createFullTextIndex"),R.T?(0,s.jsx)(ae.mh,{}):(0,s.jsx)(ae.H5,{})]})}),St&&M&&(0,s.jsx)(ie.Z,{open:St,onClose:()=>{wt(!1)},title:t("core:confirm"),content:t("core:fullTextIndexRegenerate"),confirmCallback:e=>{e?a(le.Nw.createLocationIndex(M)):wt(!1)},cancelDialogTID:"cancelSaveBeforeCloseDialog",confirmDialogTID:"confirmSaveBeforeCloseDialog",confirmDialogContentTID:"confirmDialogContent"}),(0,s.jsx)(h.Z,{disabled:!R.T||ut===k.locationType.TYPE_CLOUD||D.Z.isCordova,className:fe,labelPlacement:"start",style:{justifyContent:"space-between"},control:(0,s.jsx)(d.Z,{"data-tid":"changeWatchForChanges",name:"watchForChanges",checked:He,onChange:e=>Ve(e.target.checked)}),label:(0,s.jsxs)(s.Fragment,{children:[t("core:watchForChangesInLocation"),(0,s.jsx)(ae.H5,{})]})})]})})}),(0,s.jsxs)(N.Z,{children:[(0,s.jsx)(F.Z,{"data-tid":"switchAdvancedModeTID",expandIcon:(0,s.jsx)(me.Qq,{}),"aria-controls":"panelAdvanced-content",id:"panelAdvanced-header",children:(0,s.jsx)(p.Z,{children:t("core:switchAdvanced")})}),(0,s.jsx)(E.Z,{children:(0,s.jsxs)(x.Z,{style:{width:"100%"},children:[(0,s.jsx)(u.Z,{fullWidth:!0,children:(0,s.jsx)(v.Z,{required:!0,margin:"dense",name:"newuuid",fullWidth:!0,"data-tid":"newuuid",placeholder:"Unique location identifier",onChange:e=>kt(e.target.value),value:xt,label:t("core:locationId"),InputProps:{endAdornment:(0,s.jsx)(w.Z,{position:"end",style:{height:32},children:(0,s.jsx)(g.Z,{title:"Generates new unique identifier for this location",children:(0,s.jsx)(L.Z,{onClick:()=>{confirm("Changing the identifier of a location, will invalidate all the internal sharing links (tslinks) leading to files and folders in this location. Do you want to continue?")&&kt((0,ge.getUuid)())},size:"large",children:(0,s.jsx)(S.Z,{})})})})}})}),(0,s.jsx)(h.Z,{className:fe,labelPlacement:"start",style:{justifyContent:"space-between"},control:(0,s.jsx)(d.Z,{disabled:!R.T,"data-tid":"changeReadOnlyMode",name:"isReadOnly",checked:_e,onChange:e=>Ye(e.target.checked)}),label:(0,s.jsxs)(s.Fragment,{children:[t("core:readonlyModeSwitch"),(0,s.jsx)(ae.H5,{})]})}),(0,s.jsx)(h.Z,{className:fe,labelPlacement:"start",style:{justifyContent:"space-between"},control:(0,s.jsx)(d.Z,{disabled:!R.T,"data-tid":"disableIndexingTID",name:"disableIndexing",checked:qe,onChange:e=>Ge(e.target.checked)}),label:(0,s.jsxs)(s.Fragment,{children:[t("core:disableIndexing"),(0,s.jsx)(ae.H5,{})]})}),(0,s.jsx)(h.Z,{className:fe,labelPlacement:"start",style:{justifyContent:"space-between"},control:(0,s.jsx)(C.Z,{name:"maxIndexAge",style:{maxWidth:70,marginLeft:15,marginBottom:15},type:"number","data-tid":"maxIndexAgeTID",inputProps:{min:0},value:Se/6e4,onChange:e=>function(e){if(e){const t=parseInt(e,10);we(1e3*t*60)}}(e.target.value)}),label:(0,s.jsxs)(p.Z,{children:[t("core:maxIndexAge"),(0,s.jsx)(te.Z,{tooltip:t("core:maxIndexAgeHelp")})]})}),ut===k.locationType.TYPE_CLOUD&&(0,s.jsx)(h.Z,{className:fe,labelPlacement:"start",style:{justifyContent:"space-between"},control:(0,s.jsx)(je.Z,{maxLoops:Ae,changeMaxLoops:function(e){const t=e.target.value;t&&ke(parseInt(t,10))}}),label:(0,s.jsxs)(p.Z,{children:[t("core:maxLoops"),(0,s.jsx)(te.Z,{tooltip:t("core:maxLoopsHelp")})]})}),D.Z.useSidecarsForFileTaggingDisableSetting?(0,s.jsx)(h.Z,{className:fe,labelPlacement:"start",style:{justifyContent:"space-between"},control:(0,s.jsx)(i.Z,{size:"small",variant:"outlined",disabled:!0,children:t(Rt?"core:useSidecarFile":"core:renameFile")}),label:(0,s.jsx)(p.Z,{variant:"caption",display:"block",gutterBottom:!0,children:t("core:fileTaggingSetting")})}):(0,s.jsx)(h.Z,{labelPlacement:"top",className:fe,style:{alignItems:"start",marginBottom:10},control:(0,s.jsxs)(T.Z,{value:it,size:"small",exclusive:!0,children:[(0,s.jsx)(b.Z,{value:null,"data-tid":"settingsSetPersistTagsDefault",onClick:()=>lt(null),children:(0,s.jsx)(g.Z,{title:(0,s.jsxs)(p.Z,{color:"inherit",children:[t("core:useDefaultTaggingType"),":"," ",(0,s.jsx)("b",{children:t(Rt?"core:useSidecarFile":"core:renameFile")})]}),children:(0,s.jsxs)("div",{style:{display:"flex"},children:[null===it&&(0,s.jsx)(P.Z,{})," ",t("core:defaultSetting"),"  "]})})}),(0,s.jsx)(b.Z,{value:!1,"data-tid":"settingsSetPersistTagsInFileName",onClick:()=>lt(!1),children:(0,s.jsx)(g.Z,{title:(0,s.jsx)(p.Z,{color:"inherit",children:t("core:tagsInFilenameExplanation")}),children:(0,s.jsxs)("div",{style:{display:"flex"},children:[null!==it&&!it&&(0,s.jsx)(P.Z,{})," ",t("core:renameFile"),"  "]})})}),(0,s.jsx)(b.Z,{value:!0,"data-tid":"settingsSetPersistTagsInSidecarFile",onClick:()=>lt(!0),children:(0,s.jsx)(g.Z,{title:(0,s.jsx)(p.Z,{color:"inherit",children:t("core:tagsInSidecarFileExplanation")}),children:(0,s.jsxs)("div",{style:{display:"flex"},children:[null!==it&&it&&(0,s.jsx)(P.Z,{})," ",t("core:useSidecarFile"),"  "]})})})]}),label:(0,s.jsx)(p.Z,{gutterBottom:!0,children:t("core:fileTaggingSetting")})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{className:fe,disabled:!R.T,labelPlacement:"start",style:{justifyContent:"space-between"},control:(0,s.jsx)(ae.HB,{tooltip:t("ignorePatternDialogTitle"),children:(0,s.jsx)(i.Z,{color:"primary",disabled:!R.T,onClick:()=>{It(!0)},children:t("addEntryTags")})}),label:(0,s.jsxs)(p.Z,{children:[t("core:ignorePatterns"),(0,s.jsx)(te.Z,{tooltip:t("core:ignorePatternsHelp")}),(0,s.jsx)(ae.H5,{})]})}),Tt&&Tt.length>0&&(0,s.jsx)(j.Z,{style:{padding:5,backgroundColor:"#d3d3d34a",borderRadius:10},dense:!0,children:Tt.map((e=>(0,s.jsxs)(Z.ZP,{style:{padding:0},children:[(0,s.jsx)(y.Z,{primary:e}),(0,s.jsx)(f.Z,{style:{minWidth:0},title:t("core:ignorePatternRemove"),onClick:()=>{const t=[...Tt],a=t.indexOf(e);-1!==a&&(t.splice(a,1),bt(t))},children:(0,s.jsx)(I.Z,{})})]})))}),O&&(0,s.jsx)(O,{open:Pt,onClose:()=>It(!1),ignorePatternPaths:Tt,setIgnorePatternPaths:bt,locationPath:$.Z.getLocationPath(M)})]})]})})]})]}),(0,s.jsxs)(l.Z,{style:Mt?{padding:"10px 30px 30px 30px"}:{},children:[(0,s.jsx)(i.Z,{onClick:()=>zt(),children:t("core:cancel")}),(0,s.jsx)(i.Z,{disabled:Et(),onClick:Ut,"data-tid":"confirmLocationCreation",color:"primary",variant:"contained",children:t("core:ok")})]})]})}}}]);
//# sourceMappingURL=4801.bundle.js.map